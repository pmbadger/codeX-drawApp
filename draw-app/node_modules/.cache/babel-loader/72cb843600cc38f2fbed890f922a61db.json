{"ast":null,"code":"import { ACTION_ADD_COMMAND_LINE, ACTION_SET_CANVAS_VALUE, ACTION_SET_REQUEST_ERROR, ACTION_SET_IS_FETCHING } from \"./actionTypes\";\nexport const actionAddCommandLine = line => dispatch => {\n  dispatch(actionSetIsFetching(true));\n  fetch(\"http://localhost:3001/command\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    },\n    body: JSON.stringify({\n      line\n    }) // mode: \"no-cors\"\n\n  }).then(result => result.json().then(data => {\n    dispatch({\n      type: ACTION_ADD_COMMAND_LINE,\n      payload: line\n    });\n    dispatch(actionSetCanvasValue(data));\n    dispatch(actionSetIsFetching(false));\n    dispatch(actionSetRequestError(\"\"));\n  })).catch(err => {\n    dispatch(actionSetRequestError(\"Wrong command\"));\n    dispatch(actionSetIsFetching(false));\n  });\n};\nexport const actionSetCanvasValue = data => {\n  return {\n    type: ACTION_SET_CANVAS_VALUE,\n    payload: data\n  };\n};\nexport const actionSetIsFetching = isFetching => {\n  return {\n    type: ACTION_SET_IS_FETCHING,\n    payload: isFetching\n  };\n};\nexport const actionSetRequestError = error => {\n  return {\n    type: ACTION_SET_REQUEST_ERROR,\n    payload: error\n  };\n};","map":{"version":3,"sources":["D:/codeX/draw-app/src/store/actions/commands.js"],"names":["ACTION_ADD_COMMAND_LINE","ACTION_SET_CANVAS_VALUE","ACTION_SET_REQUEST_ERROR","ACTION_SET_IS_FETCHING","actionAddCommandLine","line","dispatch","actionSetIsFetching","fetch","method","headers","body","JSON","stringify","then","result","json","data","type","payload","actionSetCanvasValue","actionSetRequestError","catch","err","isFetching","error"],"mappings":"AAAA,SACEA,uBADF,EAEEC,uBAFF,EAGEC,wBAHF,EAIEC,sBAJF,QAKO,eALP;AAOA,OAAO,MAAMC,oBAAoB,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AACtDA,EAAAA,QAAQ,CAACC,mBAAmB,CAAC,IAAD,CAApB,CAAR;AACAC,EAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCC,IAAAA,MAAM,EAAE,MAD6B;AAErCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAF4B;AAKrCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,MAAAA;AAAF,KAAf,CAL+B,CAMrC;;AANqC,GAAlC,CAAL,CAQGS,IARH,CAQQC,MAAM,IACVA,MAAM,CAACC,IAAP,GAAcF,IAAd,CAAmBG,IAAI,IAAI;AACzBX,IAAAA,QAAQ,CAAC;AACPY,MAAAA,IAAI,EAAElB,uBADC;AAEPmB,MAAAA,OAAO,EAAEd;AAFF,KAAD,CAAR;AAIAC,IAAAA,QAAQ,CAACc,oBAAoB,CAACH,IAAD,CAArB,CAAR;AACAX,IAAAA,QAAQ,CAACC,mBAAmB,CAAC,KAAD,CAApB,CAAR;AACAD,IAAAA,QAAQ,CAACe,qBAAqB,CAAC,EAAD,CAAtB,CAAR;AACD,GARD,CATJ,EAmBGC,KAnBH,CAmBSC,GAAG,IAAI;AACZjB,IAAAA,QAAQ,CAACe,qBAAqB,CAAC,eAAD,CAAtB,CAAR;AACAf,IAAAA,QAAQ,CAACC,mBAAmB,CAAC,KAAD,CAApB,CAAR;AACD,GAtBH;AAuBD,CAzBM;AA2BP,OAAO,MAAMa,oBAAoB,GAAGH,IAAI,IAAI;AAC1C,SAAO;AACLC,IAAAA,IAAI,EAAEjB,uBADD;AAELkB,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMV,mBAAmB,GAAGiB,UAAU,IAAI;AAC/C,SAAO;AACLN,IAAAA,IAAI,EAAEf,sBADD;AAELgB,IAAAA,OAAO,EAAEK;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMH,qBAAqB,GAAGI,KAAK,IAAI;AAC5C,SAAO;AACLP,IAAAA,IAAI,EAAEhB,wBADD;AAELiB,IAAAA,OAAO,EAAEM;AAFJ,GAAP;AAID,CALM","sourcesContent":["import {\r\n  ACTION_ADD_COMMAND_LINE,\r\n  ACTION_SET_CANVAS_VALUE,\r\n  ACTION_SET_REQUEST_ERROR,\r\n  ACTION_SET_IS_FETCHING\r\n} from \"./actionTypes\";\r\n\r\nexport const actionAddCommandLine = line => dispatch => {\r\n  dispatch(actionSetIsFetching(true));\r\n  fetch(\"http://localhost:3001/command\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=utf-8\"\r\n    },\r\n    body: JSON.stringify({ line })\r\n    // mode: \"no-cors\"\r\n  })\r\n    .then(result =>\r\n      result.json().then(data => {\r\n        dispatch({\r\n          type: ACTION_ADD_COMMAND_LINE,\r\n          payload: line\r\n        });\r\n        dispatch(actionSetCanvasValue(data));\r\n        dispatch(actionSetIsFetching(false));\r\n        dispatch(actionSetRequestError(\"\"));\r\n      })\r\n    )\r\n    .catch(err => {\r\n      dispatch(actionSetRequestError(\"Wrong command\"));\r\n      dispatch(actionSetIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const actionSetCanvasValue = data => {\r\n  return {\r\n    type: ACTION_SET_CANVAS_VALUE,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const actionSetIsFetching = isFetching => {\r\n  return {\r\n    type: ACTION_SET_IS_FETCHING,\r\n    payload: isFetching\r\n  };\r\n};\r\n\r\nexport const actionSetRequestError = error => {\r\n  return {\r\n    type: ACTION_SET_REQUEST_ERROR,\r\n    payload: error\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}